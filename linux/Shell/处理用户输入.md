
# 参数

向shell脚本传递数据的最基本方法是使用命令行参数。  
命令行参数允许在运行脚本时向命令行添加数据。  
比如：

````
./addem 10 30 //10和30就是传递的两个命令行参数
````
## 读取参数

bash shell会将一些称为位置参数的特殊变量分配给输入到命令行中的所有参数。  
这也包括shell所执行的脚本名称。  
位置参数变量是标准的数字：$0是程序名,$1是第一个参数，$2是第二个参数，一直递增。

注：当大于9以后，需要使用${10}、${11}这种表示。
在使用前，最好测试对应的参数是否存在。



## 特殊参数变量

在bash shell中有些特殊变量，它们会记录命令行参数。

### 参数统计

* $#

脚本运行时携带的命令行参数的个数。
可以在脚本中任何地方使用这个特殊变量，就像普通的变量一样。


* ${!#}

代表最后一个命令行参数变量

###　所有参数 

下面这两个变量都能够在单个变量中存储所有的命令行参数。

* $*

此变量会将命令行上提供的所有参数当作一个单词保存，$*会将这些参数视为一个整体。

* $@

此变量将命令行上提供的所有参数当作同一字符串中的多个独立的单词。

## 移动变量

bash shell工具箱的另一件工具是shift命令。  
bash shell的shift命令能够用来操作命令行参数。  
shift命令会根据它们的相对位置来移动命令行参数。  

在使用shift命令时，默认情况下它会将每个参数变量向左移动一个位置。  
所以$3的值会移动到$2中，而变量$1的值则会被删除（$0的值不会变）。

比如：

````
#!/bin/bash

count=1
while [ -n "$1" ]
do
	echo "Parameter #${count} = $1"
	count=$[ ${count}+1 ]
	shift
done
````



# 选项

选项是跟在单破折线后面的单个字母，它能改变命令的行为。

## 查找选项

* 处理简单选项

使用shift和普通遍历命令行参数一样处理命令行选项。

比如

````
#!/bin/bash

while [ -n "$1" ]
do
	case "$1" in
		-a) echo "Found the -a option";;
		-b) echo "Found the  -b option";;
		*) echo "$1 is not an option";;
	esac
	shift
done
````

* 分离参数和选项

当在shell脚本中同时使用选项和参数时，Linux使用一个特殊字符来将二者分开，  
该字符会告诉脚本何时选项结束以及普通参数何时开始。  

对Linux来说，这个特殊字符是双破折线（--）线。  

shell 会用双破折线来表明选项列表结束。 
在双破折线之后，脚本就可以放心地将剩下的命令行参数当作参数，而不是选项来处理了。


如：

````
#!/bin/bash

while [ -n "$1" ]
do
	case "$1" in
		-a) echo "Found the -a option";;
		-b) echo "Found the  -b option";;
		--) shift
			break;;
		*) echo "$1 is not an option";;
	esac
	shift
done

# 参数处理

count=1
for param in $@
do
	echo "Parameter #${count}:${param}"
	count=$[ $count+1 ]
done
````

* 处理带值的选项

有些选项会带一个额外的参数值。  
在这种情况下，命令行看起来像下面这样。

````
./testing.sh -a test1 -b -c -d test2
````

比如：

````
#!/bin/bash

while [ -n "$1" ]
do
	case "$1" in
		-a) echo "Found the -a option";;
		-b) param=$2
			echo "Found the -b option, with parameter value ${param}"
			shift;;
		--) shift
			break;;
		*) echo "$1 is not a option";;
	esac
	shift
done

count=1

for param in "$@"
do
	echo "Parameter #${count}:${param}"
	count=$[ $count+1 ]
done
````

## 使用getopt命令

getopt命令是一个在处理命令行选项和参数时非常方便的工具 。  
它能够识别命令行参数，从而在脚本中解析它们时更方便。


## 使用更高级的getopts



##


# 用户输入 